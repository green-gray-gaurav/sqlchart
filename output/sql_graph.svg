<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="3420pt" height="1184pt"
 viewBox="0.00 0.00 3420.00 1184.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1180)">
<title>%3</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-1180 3416,-1180 3416,4 -4,4"/>
<!-- 1 -->
<g id="node1" class="node">
<title>1</title>
<polygon fill="#d5f5e3" stroke="black" points="2213.5,-1176 1590.5,-1176 1590.5,-1040 2213.5,-1040 2213.5,-1176"/>
<polygon fill="#cfe7e9" stroke="transparent" points="1591,-1136 1591,-1176 2214,-1176 2214,-1136 1591,-1136"/>
<polygon fill="none" stroke="black" points="1591,-1136 1591,-1176 2214,-1176 2214,-1136 1591,-1136"/>
<text text-anchor="start" x="1774" y="-1159.8" font-family="monospace" font-size="14.00"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</text>
<text text-anchor="start" x="1907" y="-1159.8" font-family="monospace" font-weight="bold" font-size="14.00">Node 1 (Insert)</text>
<text text-anchor="start" x="1720.5" y="-1145.8" font-family="monospace" font-size="14.00"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</text>
<polygon fill="none" stroke="black" points="1591,-1040 1591,-1136 2214,-1136 2214,-1040 1591,-1040"/>
<text text-anchor="start" x="1597" y="-1119.8" font-family="monospace" font-size="14.00"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;INSERT INTO FCP_ITEM_DETAILS (fcp_glusr_usr_id, item_name,</text>
<text text-anchor="start" x="1597" y="-1105.8" font-family="monospace" font-size="14.00">cat_name, cat_url, item_img, item_id,</text>
<text text-anchor="start" x="1597" y="-1091.8" font-family="monospace" font-size="14.00">fcp_pc_item_modifieddate, item_img_500x500) WITH AFD AS</text>
<text text-anchor="start" x="1597" y="-1077.8" font-family="monospace" font-size="14.00">(</text>
<text text-anchor="start" x="1606" y="-1077.8" font-family="monospace" font-weight="bold" font-size="14.00" fill="red">subquery_9</text>
<text text-anchor="start" x="1689" y="-1077.8" font-family="monospace" font-size="14.00">), pc_clnt_pcat_data_cnt AS (</text>
<text text-anchor="start" x="1929" y="-1077.8" font-family="monospace" font-weight="bold" font-size="14.00" fill="red">subquery_10</text>
<text text-anchor="start" x="2020" y="-1077.8" font-family="monospace" font-size="14.00">),</text>
<text text-anchor="start" x="1597" y="-1063.8" font-family="monospace" font-size="14.00">pc_clnt_pcat_data_cnt AS (</text>
<text text-anchor="start" x="1812" y="-1063.8" font-family="monospace" font-weight="bold" font-size="14.00" fill="red">subquery_11</text>
<text text-anchor="start" x="1903" y="-1063.8" font-family="monospace" font-size="14.00">) </text>
<text text-anchor="start" x="1920" y="-1063.8" font-family="monospace" font-weight="bold" font-size="14.00" fill="red">subquery_2</text>
<text text-anchor="start" x="2003" y="-1063.8" font-family="monospace" font-size="14.00"> UNION</text>
<text text-anchor="start" x="1707" y="-1049.8" font-family="monospace" font-size="14.00">ALL </text>
<text text-anchor="start" x="1741" y="-1049.8" font-family="monospace" font-weight="bold" font-size="14.00" fill="red">subquery_4</text>
<text text-anchor="start" x="1824" y="-1049.8" font-family="monospace" font-size="14.00"> UNION ALL </text>
<text text-anchor="start" x="1915" y="-1049.8" font-family="monospace" font-weight="bold" font-size="14.00" fill="red">subquery_6</text>
<text text-anchor="start" x="1998" y="-1049.8" font-family="monospace" font-size="14.00"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</text>
</g>
<!-- 2 -->
<g id="node2" class="node">
<title>2</title>
<polygon fill="#d6eaf8" stroke="black" points="570,-937 0,-937 0,-711 570,-711 570,-937"/>
<polygon fill="#cfe7e9" stroke="transparent" points="0,-897 0,-937 570,-937 570,-897 0,-897"/>
<polygon fill="none" stroke="black" points="0,-897 0,-937 570,-937 570,-897 0,-897"/>
<text text-anchor="start" x="156.5" y="-920.8" font-family="monospace" font-size="14.00"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</text>
<text text-anchor="start" x="289.5" y="-920.8" font-family="monospace" font-weight="bold" font-size="14.00">Node 2 (Select)</text>
<text text-anchor="start" x="103" y="-906.8" font-family="monospace" font-size="14.00"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</text>
<polygon fill="none" stroke="black" points="0,-780 0,-897 62,-897 62,-780 0,-780"/>
<text text-anchor="start" x="6" y="-880.8" font-family="monospace" font-weight="bold" font-size="14.00">SELECT</text>
<polygon fill="none" stroke="black" points="62,-780 62,-897 570,-897 570,-780 62,-780"/>
<text text-anchor="start" x="68" y="-879.8" font-family="monospace" font-size="14.00">Fk_GLUSR_USR_ID, PC_ITEM_NAME, (CASE WHEN NOT PC_CLNT_FLNAME</text>
<text text-anchor="start" x="68" y="-864.8" font-family="monospace" font-size="14.00">IS NULL THEN PC_CLNT_PCAT_NAME END) AS PC_CLNT_PCAT_NAME,</text>
<text text-anchor="start" x="68" y="-849.8" font-family="monospace" font-size="14.00">COALESCE(FREE_SHOWROOM_URL, &#39;&#39;) || COALESCE(PC_CLNT_FLNAME,</text>
<text text-anchor="start" x="68" y="-834.8" font-family="monospace" font-size="14.00">&#39;&#39;) AS MY_CAT_URL, ITEM_SIMG, PC_ITEM_ID, NOW(), (CASE WHEN</text>
<text text-anchor="start" x="68" y="-819.8" font-family="monospace" font-size="14.00">NOT item_simg_LARGE IS NULL AND</text>
<text text-anchor="start" x="68" y="-804.8" font-family="monospace" font-size="14.00">STR_POSITION(A.item_simg_LARGE, &#39;coming&#45;soon.gif&#39;) &lt;= 0</text>
<text text-anchor="start" x="134" y="-789.8" font-family="monospace" font-size="14.00">THEN item_simg_LARGE END) AS item_simg_LARGE</text>
<polygon fill="none" stroke="black" points="0,-753 0,-780 62,-780 62,-753 0,-753"/>
<text text-anchor="start" x="6" y="-763.8" font-family="monospace" font-weight="bold" font-size="14.00">FROM</text>
<polygon fill="none" stroke="black" points="62,-753 62,-780 570,-780 570,-753 62,-753"/>
<text text-anchor="start" x="68" y="-763.8" font-family="monospace" font-size="14.00">FROM (</text>
<text text-anchor="start" x="118" y="-763.8" font-family="monospace" font-weight="bold" font-size="14.00" fill="red">subquery_3</text>
<text text-anchor="start" x="201" y="-763.8" font-family="monospace" font-size="14.00">) AS A</text>
<polygon fill="none" stroke="black" points="0,-711 0,-753 62,-753 62,-711 0,-711"/>
<text text-anchor="start" x="6" y="-736.8" font-family="monospace" font-weight="bold" font-size="14.00">WHERE</text>
<polygon fill="none" stroke="black" points="62,-711 62,-753 570,-753 570,-711 62,-711"/>
<text text-anchor="start" x="68" y="-735.8" font-family="monospace" font-size="14.00">WHERE CNT &gt;= 1 AND STR_POSITION(item_simg, &#39;coming&#45;</text>
<text text-anchor="start" x="216.5" y="-720.8" font-family="monospace" font-size="14.00">soon.gif&#39;) &lt;= 0</text>
</g>
<!-- 1&#45;&gt;2 -->
<g id="edge1" class="edge">
<title>1&#45;&gt;2</title>
<path fill="none" stroke="black" d="M1590.13,-1094.2C1259.74,-1077.97 761.15,-1045.13 579,-989 541.28,-977.38 503.01,-960.48 467.09,-941.89"/>
<polygon fill="black" stroke="black" points="468.5,-938.67 458.01,-937.13 465.25,-944.87 468.5,-938.67"/>
<text text-anchor="middle" x="743.5" y="-1010.8" font-family="Times,serif" font-size="14.00"> contains</text>
</g>
<!-- 4 -->
<g id="node4" class="node">
<title>4</title>
<polygon fill="#d6eaf8" stroke="black" points="1158,-929.5 588,-929.5 588,-718.5 1158,-718.5 1158,-929.5"/>
<polygon fill="#cfe7e9" stroke="transparent" points="588,-889 588,-929 1158,-929 1158,-889 588,-889"/>
<polygon fill="none" stroke="black" points="588,-889 588,-929 1158,-929 1158,-889 588,-889"/>
<text text-anchor="start" x="744.5" y="-912.8" font-family="monospace" font-size="14.00"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</text>
<text text-anchor="start" x="877.5" y="-912.8" font-family="monospace" font-weight="bold" font-size="14.00">Node 4 (Select)</text>
<text text-anchor="start" x="691" y="-898.8" font-family="monospace" font-size="14.00"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</text>
<polygon fill="none" stroke="black" points="588,-772 588,-889 650,-889 650,-772 588,-772"/>
<text text-anchor="start" x="594" y="-872.8" font-family="monospace" font-weight="bold" font-size="14.00">SELECT</text>
<polygon fill="none" stroke="black" points="650,-772 650,-889 1158,-889 1158,-772 650,-772"/>
<text text-anchor="start" x="656" y="-871.8" font-family="monospace" font-size="14.00">Fk_GLUSR_USR_ID, PC_ITEM_NAME, (CASE WHEN NOT PC_CLNT_FLNAME</text>
<text text-anchor="start" x="656" y="-856.8" font-family="monospace" font-size="14.00">IS NULL THEN PC_CLNT_PCAT_NAME END) AS PC_CLNT_PCAT_NAME,</text>
<text text-anchor="start" x="656" y="-841.8" font-family="monospace" font-size="14.00">COALESCE(FREE_SHOWROOM_URL, &#39;&#39;) || COALESCE(PC_CLNT_FLNAME,</text>
<text text-anchor="start" x="656" y="-826.8" font-family="monospace" font-size="14.00">&#39;&#39;) AS MY_CAT_URL, item_simg, PC_ITEM_ID, NOW(), (CASE WHEN</text>
<text text-anchor="start" x="656" y="-811.8" font-family="monospace" font-size="14.00">NOT item_simg_LARGE IS NULL AND</text>
<text text-anchor="start" x="656" y="-796.8" font-family="monospace" font-size="14.00">STR_POSITION(A.item_simg_LARGE, &#39;coming&#45;soon.gif&#39;) &lt;= 0</text>
<text text-anchor="start" x="722" y="-781.8" font-family="monospace" font-size="14.00">THEN item_simg_LARGE END) AS item_simg_LARGE</text>
<polygon fill="none" stroke="black" points="588,-745 588,-772 650,-772 650,-745 588,-745"/>
<text text-anchor="start" x="594" y="-755.8" font-family="monospace" font-weight="bold" font-size="14.00">FROM</text>
<polygon fill="none" stroke="black" points="650,-745 650,-772 1158,-772 1158,-745 650,-745"/>
<text text-anchor="start" x="656" y="-755.8" font-family="monospace" font-size="14.00">FROM (</text>
<text text-anchor="start" x="706" y="-755.8" font-family="monospace" font-weight="bold" font-size="14.00" fill="red">subquery_5</text>
<text text-anchor="start" x="789" y="-755.8" font-family="monospace" font-size="14.00">) AS A</text>
<polygon fill="none" stroke="black" points="588,-718 588,-745 650,-745 650,-718 588,-718"/>
<text text-anchor="start" x="594" y="-728.8" font-family="monospace" font-weight="bold" font-size="14.00">WHERE</text>
<polygon fill="none" stroke="black" points="650,-718 650,-745 1158,-745 1158,-718 650,-718"/>
<text text-anchor="start" x="656" y="-727.8" font-family="monospace" font-size="14.00">WHERE STR_POSITION(item_simg, &#39;coming&#45;soon.gif&#39;) &lt;= 0</text>
</g>
<!-- 1&#45;&gt;4 -->
<g id="edge3" class="edge">
<title>1&#45;&gt;4</title>
<path fill="none" stroke="black" d="M1590.35,-1081.35C1457.3,-1064.2 1301.92,-1035.82 1167,-989 1126.36,-974.9 1084.79,-955.35 1046.18,-934.65"/>
<polygon fill="black" stroke="black" points="1047.41,-931.34 1036.95,-929.65 1044.08,-937.49 1047.41,-931.34"/>
<text text-anchor="middle" x="1296.5" y="-1010.8" font-family="Times,serif" font-size="14.00"> contains</text>
</g>
<!-- 6 -->
<g id="node6" class="node">
<title>6</title>
<polygon fill="#d6eaf8" stroke="black" points="1746,-976 1176,-976 1176,-672 1746,-672 1746,-976"/>
<polygon fill="#cfe7e9" stroke="transparent" points="1176,-936 1176,-976 1746,-976 1746,-936 1176,-936"/>
<polygon fill="none" stroke="black" points="1176,-936 1176,-976 1746,-976 1746,-936 1176,-936"/>
<text text-anchor="start" x="1332.5" y="-959.8" font-family="monospace" font-size="14.00"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</text>
<text text-anchor="start" x="1465.5" y="-959.8" font-family="monospace" font-weight="bold" font-size="14.00">Node 6 (Select)</text>
<text text-anchor="start" x="1279" y="-945.8" font-family="monospace" font-size="14.00"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</text>
<polygon fill="none" stroke="black" points="1176,-699 1176,-936 1238,-936 1238,-699 1176,-699"/>
<text text-anchor="start" x="1182" y="-919.8" font-family="monospace" font-weight="bold" font-size="14.00">SELECT</text>
<polygon fill="none" stroke="black" points="1238,-699 1238,-936 1746,-936 1746,-699 1238,-699"/>
<text text-anchor="start" x="1244" y="-918.8" font-family="monospace" font-size="14.00">A.Fk_GLUSR_USR_ID, A.PC_ITEM_NAME AS item_name, CASE WHEN</text>
<text text-anchor="start" x="1244" y="-903.8" font-family="monospace" font-size="14.00">CNTPCID &gt; 0 THEN CASE WHEN A.DIR_SEARCH_CAT_PRODSERV =</text>
<text text-anchor="start" x="1244" y="-888.8" font-family="monospace" font-size="14.00">&#39;S&#39; THEN &#39;Other Services&#39; ELSE &#39;Other Products&#39; END ELSE</text>
<text text-anchor="start" x="1244" y="-873.8" font-family="monospace" font-size="14.00">CASE WHEN A.DIR_SEARCH_CAT_PRODSERV = &#39;S&#39; THEN &#39;Services&#39;</text>
<text text-anchor="start" x="1244" y="-858.8" font-family="monospace" font-size="14.00">ELSE &#39;Products&#39; END END AS cat_name, CASE WHEN (CNTPCID &gt;</text>
<text text-anchor="start" x="1244" y="-843.8" font-family="monospace" font-size="14.00">0 AND A.photo_desc_pdt_cnt = 0 AND A.name_only_pdt_cnt &lt;=</text>
<text text-anchor="start" x="1244" y="-828.8" font-family="monospace" font-size="14.00">5) OR (CNTPCID = 0 AND A.photo_desc_pdt_cnt = 0) THEN</text>
<text text-anchor="start" x="1244" y="-813.8" font-family="monospace" font-size="14.00">A.FREE_SHOWROOM_URL ELSE A.FREE_SHOWROOM_URL || CASE WHEN</text>
<text text-anchor="start" x="1244" y="-798.8" font-family="monospace" font-size="14.00">CNTPCID &gt; 0 THEN CASE WHEN A.DIR_SEARCH_CAT_PRODSERV =</text>
<text text-anchor="start" x="1244" y="-783.8" font-family="monospace" font-size="14.00">&#39;S&#39; THEN &#39;other&#45;services.html&#39; ELSE &#39;other&#45;products.html&#39;</text>
<text text-anchor="start" x="1244" y="-768.8" font-family="monospace" font-size="14.00">END ELSE CASE WHEN A.DIR_SEARCH_CAT_PRODSERV = &#39;S&#39; THEN</text>
<text text-anchor="start" x="1244" y="-753.8" font-family="monospace" font-size="14.00">&#39;services.html&#39; ELSE &#39;products.html&#39; END END END AS cat_url,</text>
<text text-anchor="start" x="1244" y="-738.8" font-family="monospace" font-size="14.00">A.item_simg AS item_img, A.PC_ITEM_ID AS item_id, NOW() AS</text>
<text text-anchor="start" x="1244" y="-723.8" font-family="monospace" font-size="14.00">fcp_pc_item_modifieddate, A.ITEM_SIMG_LARGE AS</text>
<text text-anchor="start" x="1425.5" y="-708.8" font-family="monospace" font-size="14.00">item_img_500x500</text>
<polygon fill="none" stroke="black" points="1176,-672 1176,-699 1238,-699 1238,-672 1176,-672"/>
<text text-anchor="start" x="1182" y="-682.8" font-family="monospace" font-weight="bold" font-size="14.00">FROM</text>
<polygon fill="none" stroke="black" points="1238,-672 1238,-699 1746,-699 1746,-672 1238,-672"/>
<text text-anchor="start" x="1244" y="-682.8" font-family="monospace" font-size="14.00">FROM (</text>
<text text-anchor="start" x="1294" y="-682.8" font-family="monospace" font-weight="bold" font-size="14.00" fill="red">subquery_7</text>
<text text-anchor="start" x="1377" y="-682.8" font-family="monospace" font-size="14.00">) AS A</text>
</g>
<!-- 1&#45;&gt;6 -->
<g id="edge5" class="edge">
<title>1&#45;&gt;6</title>
<path fill="none" stroke="black" d="M1797.21,-1039.99C1769.27,-1022.12 1737.86,-1002.04 1705.77,-981.52"/>
<polygon fill="black" stroke="black" points="1707.46,-978.44 1697.15,-976 1703.69,-984.34 1707.46,-978.44"/>
<text text-anchor="middle" x="1792.5" y="-1010.8" font-family="Times,serif" font-size="14.00"> contains</text>
</g>
<!-- 9 -->
<g id="node9" class="node">
<title>9</title>
<polygon fill="#e8daef" stroke="black" points="2334,-885.5 1764,-885.5 1764,-762.5 2334,-762.5 2334,-885.5"/>
<polygon fill="#cfe7e9" stroke="transparent" points="1764,-831 1764,-885 2334,-885 2334,-831 1764,-831"/>
<polygon fill="none" stroke="black" points="1764,-831 1764,-885 2334,-885 2334,-831 1764,-831"/>
<text text-anchor="start" x="1920.5" y="-868.8" font-family="monospace" font-size="14.00"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</text>
<text text-anchor="start" x="2053.5" y="-868.8" font-family="monospace" font-weight="bold" font-size="14.00">Node 9 (Select)</text>
<text text-anchor="start" x="1949" y="-854.8" font-family="monospace" font-size="14.00"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</text>
<text text-anchor="start" x="2082" y="-854.8" font-family="monospace" font-weight="bold" font-size="14.00" fill="#ac8e72">CTE: AFD</text>
<text text-anchor="start" x="1933" y="-840.8" font-family="monospace" font-size="14.00"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</text>
<polygon fill="none" stroke="black" points="1764,-789 1764,-831 1826,-831 1826,-789 1764,-789"/>
<text text-anchor="start" x="1770" y="-814.8" font-family="monospace" font-weight="bold" font-size="14.00">SELECT</text>
<polygon fill="none" stroke="black" points="1826,-789 1826,-831 2334,-831 2334,-789 1826,-789"/>
<text text-anchor="start" x="1832" y="-813.8" font-family="monospace" font-size="14.00">Fk_GLUSR_USR_ID, FREE_SHOWROOM_URL, DIR_SEARCH_CAT_PRODSERV,</text>
<text text-anchor="start" x="1952" y="-798.8" font-family="monospace" font-size="14.00">A.IS_OLD_CATALOG AS OLD_CATALOG</text>
<polygon fill="none" stroke="black" points="1764,-762 1764,-789 1826,-789 1826,-762 1764,-762"/>
<text text-anchor="start" x="1770" y="-772.8" font-family="monospace" font-weight="bold" font-size="14.00">FROM</text>
<polygon fill="none" stroke="black" points="1826,-762 1826,-789 2334,-789 2334,-762 1826,-762"/>
<text text-anchor="start" x="1832" y="-771.8" font-family="monospace" font-size="14.00">FROM ACTIVE_FCP_DETAILS_UPDATE</text>
</g>
<!-- 1&#45;&gt;9 -->
<g id="edge8" class="edge">
<title>1&#45;&gt;9</title>
<path fill="none" stroke="black" d="M1937.02,-1039.81C1959.82,-996.07 1989.51,-939.13 2012.58,-894.86"/>
<polygon fill="black" stroke="black" points="2015.73,-896.39 2017.25,-885.9 2009.53,-893.15 2015.73,-896.39"/>
<text text-anchor="middle" x="1986.5" y="-1010.8" font-family="Times,serif" font-size="14.00"> contains</text>
</g>
<!-- 10 -->
<g id="node10" class="node">
<title>10</title>
<polygon fill="#e8daef" stroke="black" points="2889.5,-989 2352.5,-989 2352.5,-659 2889.5,-659 2889.5,-989"/>
<polygon fill="#cfe7e9" stroke="transparent" points="2353,-935 2353,-989 2890,-989 2890,-935 2353,-935"/>
<polygon fill="none" stroke="black" points="2353,-935 2353,-989 2890,-989 2890,-935 2353,-935"/>
<text text-anchor="start" x="2488.5" y="-972.8" font-family="monospace" font-size="14.00"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</text>
<text text-anchor="start" x="2621.5" y="-972.8" font-family="monospace" font-weight="bold" font-size="14.00">Node 10 (Select)</text>
<text text-anchor="start" x="2447.5" y="-958.8" font-family="monospace" font-size="14.00"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</text>
<text text-anchor="start" x="2580.5" y="-958.8" font-family="monospace" font-weight="bold" font-size="14.00" fill="#ac8e72">CTE: pc_clnt_pcat_data_cnt</text>
<text text-anchor="start" x="2505.5" y="-944.8" font-family="monospace" font-size="14.00"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</text>
<polygon fill="none" stroke="black" points="2353,-773 2353,-935 2415,-935 2415,-773 2353,-773"/>
<text text-anchor="start" x="2359" y="-918.8" font-family="monospace" font-weight="bold" font-size="14.00">SELECT</text>
<polygon fill="none" stroke="black" points="2415,-773 2415,-935 2890,-935 2890,-773 2415,-773"/>
<text text-anchor="start" x="2421" y="-917.8" font-family="monospace" font-size="14.00">PC.pc_clnt_pcat_glusr_id, PC.PC_CLNT_PCAT_ID,</text>
<text text-anchor="start" x="2421" y="-902.8" font-family="monospace" font-size="14.00">PCI.PC_ITEM_ID, PCI.PC_ITEM_NAME, PC.PC_CLNT_PCAT_NAME,</text>
<text text-anchor="start" x="2421" y="-887.8" font-family="monospace" font-size="14.00">PC.PC_CLNT_FLNAME, PC_ITEM_IMG_SMALL_ISDEFAULT,</text>
<text text-anchor="start" x="2421" y="-872.8" font-family="monospace" font-size="14.00">PC_ITEM_DESC_SMALL, PC_ITEM_IMG_SMALL,</text>
<text text-anchor="start" x="2421" y="-857.8" font-family="monospace" font-size="14.00">PC_CLNT_GENERATED_FLNAME, PC_CLNT_TOPLEVEL,</text>
<text text-anchor="start" x="2421" y="-842.8" font-family="monospace" font-size="14.00">REPLACE(PCI.PC_ITEM_IMG_SMALL, &#39;add&#45;image.gif&#39;, &#39;coming&#45;</text>
<text text-anchor="start" x="2421" y="-827.8" font-family="monospace" font-size="14.00">soon.gif&#39;) AS item_simg,</text>
<text text-anchor="start" x="2421" y="-812.8" font-family="monospace" font-size="14.00">REPLACE(COALESCE(PCI.PC_ITEM_IMG_LARGE,</text>
<text text-anchor="start" x="2421" y="-797.8" font-family="monospace" font-size="14.00">PCI.PC_IMG_SMALL_600X600), &#39;add&#45;image.gif&#39;, &#39;coming&#45;</text>
<text text-anchor="start" x="2532.5" y="-782.8" font-family="monospace" font-size="14.00">soon.gif&#39;) AS item_simg_LARGE</text>
<polygon fill="none" stroke="black" points="2353,-746 2353,-773 2415,-773 2415,-746 2353,-746"/>
<text text-anchor="start" x="2359" y="-756.8" font-family="monospace" font-weight="bold" font-size="14.00">FROM</text>
<polygon fill="none" stroke="black" points="2415,-746 2415,-773 2890,-773 2890,-746 2415,-746"/>
<text text-anchor="start" x="2421" y="-755.8" font-family="monospace" font-size="14.00">FROM PC_CLNT_PCAT AS PC</text>
<polygon fill="none" stroke="black" points="2353,-659 2353,-746 2415,-746 2415,-659 2353,-659"/>
<text text-anchor="start" x="2359" y="-729.8" font-family="monospace" font-weight="bold" font-size="14.00">WHERE</text>
<polygon fill="none" stroke="black" points="2415,-659 2415,-746 2890,-746 2890,-659 2415,-659"/>
<text text-anchor="start" x="2421" y="-728.8" font-family="monospace" font-size="14.00">WHERE PC.PC_CLNT_TOPLEVEL = &#39;L&#39; AND</text>
<text text-anchor="start" x="2421" y="-713.8" font-family="monospace" font-size="14.00">LOWER(PC.PC_CLNT_PCAT_NAME) &lt;&gt; &#39;other products&#39; AND</text>
<text text-anchor="start" x="2421" y="-698.8" font-family="monospace" font-size="14.00">LOWER(PC.PC_CLNT_PCAT_NAME) &lt;&gt; &#39;other product&#39; AND</text>
<text text-anchor="start" x="2421" y="-683.8" font-family="monospace" font-size="14.00">PCI.PC_ITEM_STATUS_APPROVAL &gt;= 10 AND PCI.PC_ITEM_STATUS</text>
<text text-anchor="start" x="2627.5" y="-668.8" font-family="monospace" font-size="14.00">&lt;&gt; &#39;x&#39;</text>
</g>
<!-- 1&#45;&gt;10 -->
<g id="edge9" class="edge">
<title>1&#45;&gt;10</title>
<path fill="none" stroke="black" d="M2197.22,-1039.94C2246.67,-1025.34 2296.86,-1008.35 2343,-989 2343.1,-988.96 2343.19,-988.92 2343.29,-988.88"/>
<polygon fill="black" stroke="black" points="2344.51,-992.17 2352.32,-985.01 2341.75,-985.73 2344.51,-992.17"/>
<text text-anchor="middle" x="2329.5" y="-1010.8" font-family="Times,serif" font-size="14.00"> contains</text>
</g>
<!-- 11 -->
<g id="node11" class="node">
<title>11</title>
<polygon fill="#e8daef" stroke="black" points="3412,-936.5 2908,-936.5 2908,-711.5 3412,-711.5 3412,-936.5"/>
<polygon fill="#cfe7e9" stroke="transparent" points="2908,-882 2908,-936 3412,-936 3412,-882 2908,-882"/>
<polygon fill="none" stroke="black" points="2908,-882 2908,-936 3412,-936 3412,-882 2908,-882"/>
<text text-anchor="start" x="3027" y="-919.8" font-family="monospace" font-size="14.00"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</text>
<text text-anchor="start" x="3160" y="-919.8" font-family="monospace" font-weight="bold" font-size="14.00">Node 11 (Select)</text>
<text text-anchor="start" x="2986" y="-905.8" font-family="monospace" font-size="14.00"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</text>
<text text-anchor="start" x="3119" y="-905.8" font-family="monospace" font-weight="bold" font-size="14.00" fill="#ac8e72">CTE: pc_clnt_pcat_data_cnt</text>
<text text-anchor="start" x="3044" y="-891.8" font-family="monospace" font-size="14.00"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</text>
<polygon fill="none" stroke="black" points="2908,-765 2908,-882 2970,-882 2970,-765 2908,-765"/>
<text text-anchor="start" x="2914" y="-865.8" font-family="monospace" font-weight="bold" font-size="14.00">SELECT</text>
<polygon fill="none" stroke="black" points="2970,-765 2970,-882 3412,-882 3412,-765 2970,-765"/>
<text text-anchor="start" x="2976" y="-864.8" font-family="monospace" font-size="14.00">pc_clnt_pcat_glusr_id AS glid, PC_CLNT_PCAT_ID AS</text>
<text text-anchor="start" x="2976" y="-849.8" font-family="monospace" font-size="14.00">clnt_pcat_id, COUNT(CASE WHEN</text>
<text text-anchor="start" x="2976" y="-834.8" font-family="monospace" font-size="14.00">(PCI.PC_ITEM_IMG_SMALL_ISDEFAULT = 1 OR</text>
<text text-anchor="start" x="2976" y="-819.8" font-family="monospace" font-size="14.00">PCI.PC_ITEM_DESC_SMALL &lt;&gt; PCI.PC_ITEM_NAME) THEN 1</text>
<text text-anchor="start" x="2976" y="-804.8" font-family="monospace" font-size="14.00">END) OVER (PARTITION BY pc_clnt_pcat_glusr_id,</text>
<text text-anchor="start" x="2976" y="-789.8" font-family="monospace" font-size="14.00">PC_CLNT_PCAT_ID) AS CNT, COUNT(1) OVER (PARTITION BY</text>
<text text-anchor="start" x="2984.5" y="-774.8" font-family="monospace" font-size="14.00">pc_clnt_pcat_glusr_id, PC_CLNT_PCAT_ID) AS CNTPCID</text>
<polygon fill="none" stroke="black" points="2908,-738 2908,-765 2970,-765 2970,-738 2908,-738"/>
<text text-anchor="start" x="2914" y="-748.8" font-family="monospace" font-weight="bold" font-size="14.00">FROM</text>
<polygon fill="none" stroke="black" points="2970,-738 2970,-765 3412,-765 3412,-738 2970,-738"/>
<text text-anchor="start" x="2976" y="-747.8" font-family="monospace" font-size="14.00">FROM pc_clnt_pcat_data_cnt</text>
<polygon fill="none" stroke="black" points="2908,-711 2908,-738 2970,-738 2970,-711 2908,-711"/>
<text text-anchor="start" x="2914" y="-721.8" font-family="monospace" font-weight="bold" font-size="14.00">WHERE</text>
<polygon fill="none" stroke="black" points="2970,-711 2970,-738 3412,-738 3412,-711 2970,-711"/>
<text text-anchor="start" x="2976" y="-720.8" font-family="monospace" font-size="14.00">WHERE PC_CLNT_TOPLEVEL = &#39;L&#39;</text>
</g>
<!-- 1&#45;&gt;11 -->
<g id="edge10" class="edge">
<title>1&#45;&gt;11</title>
<path fill="none" stroke="black" d="M2213.8,-1085.02C2457.78,-1065.05 2775.54,-1032.13 2898,-989 2931.77,-977.11 2965.74,-960.27 2997.51,-941.88"/>
<polygon fill="black" stroke="black" points="2999.56,-944.73 3006.41,-936.65 2996.01,-938.7 2999.56,-944.73"/>
<text text-anchor="middle" x="2852.5" y="-1010.8" font-family="Times,serif" font-size="14.00"> contains</text>
</g>
<!-- 3 -->
<g id="node3" class="node">
<title>3</title>
<polygon fill="#d6eaf8" stroke="black" points="570,-600.5 0,-600.5 0,-404.5 570,-404.5 570,-600.5"/>
<polygon fill="#cfe7e9" stroke="transparent" points="0,-560.5 0,-600.5 570,-600.5 570,-560.5 0,-560.5"/>
<polygon fill="none" stroke="black" points="0,-560.5 0,-600.5 570,-600.5 570,-560.5 0,-560.5"/>
<text text-anchor="start" x="156.5" y="-584.3" font-family="monospace" font-size="14.00"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</text>
<text text-anchor="start" x="289.5" y="-584.3" font-family="monospace" font-weight="bold" font-size="14.00">Node 3 (Select)</text>
<text text-anchor="start" x="103" y="-570.3" font-family="monospace" font-size="14.00"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</text>
<polygon fill="none" stroke="black" points="0,-458.5 0,-560.5 62,-560.5 62,-458.5 0,-458.5"/>
<text text-anchor="start" x="6" y="-544.3" font-family="monospace" font-weight="bold" font-size="14.00">SELECT</text>
<polygon fill="none" stroke="black" points="62,-458.5 62,-560.5 570,-560.5 570,-458.5 62,-458.5"/>
<text text-anchor="start" x="68" y="-543.3" font-family="monospace" font-size="14.00">Fk_GLUSR_USR_ID, item_simg, item_simg_LARGE, PC_ITEM_NAME,</text>
<text text-anchor="start" x="68" y="-528.3" font-family="monospace" font-size="14.00">PC_ITEM_ID, PC_CLNT_PCAT_NAME, CNT, FREE_SHOWROOM_URL(CASE</text>
<text text-anchor="start" x="68" y="-513.3" font-family="monospace" font-size="14.00">WHEN COALESCE(PC_CLNT_FLNAME, PC_CLNT_GENERATED_FLNAME) =</text>
<text text-anchor="start" x="68" y="-498.3" font-family="monospace" font-size="14.00">&#39;new&#45;item.html&#39; THEN &#39;new&#45;items.html&#39; ELSE</text>
<text text-anchor="start" x="68" y="-483.3" font-family="monospace" font-size="14.00">COALESCE(COALESCE(PC_CLNT_FLNAME, PC_CLNT_GENERATED_FLNAME),</text>
<text text-anchor="start" x="150.5" y="-468.3" font-family="monospace" font-size="14.00">&#39;new&#45;items.html&#39;) END) AS PC_CLNT_FLNAME</text>
<polygon fill="none" stroke="black" points="0,-431.5 0,-458.5 62,-458.5 62,-431.5 0,-431.5"/>
<text text-anchor="start" x="6" y="-442.3" font-family="monospace" font-weight="bold" font-size="14.00">FROM</text>
<polygon fill="none" stroke="black" points="62,-431.5 62,-458.5 570,-458.5 570,-431.5 62,-431.5"/>
<text text-anchor="start" x="68" y="-441.3" font-family="monospace" font-size="14.00">FROM pc_clnt_pcat_data</text>
<polygon fill="none" stroke="black" points="0,-404.5 0,-431.5 62,-431.5 62,-404.5 0,-404.5"/>
<text text-anchor="start" x="6" y="-415.3" font-family="monospace" font-weight="bold" font-size="14.00">WHERE</text>
<polygon fill="none" stroke="black" points="62,-404.5 62,-431.5 570,-431.5 570,-404.5 62,-404.5"/>
<text text-anchor="start" x="68" y="-414.3" font-family="monospace" font-size="14.00">WHERE PC_CLNT_TOPLEVEL = &#39;L&#39; AND OLD_CATALOG = &#45;1</text>
</g>
<!-- 2&#45;&gt;3 -->
<g id="edge2" class="edge">
<title>2&#45;&gt;3</title>
<path fill="none" stroke="black" d="M285,-710.81C285,-678.36 285,-643.03 285,-610.88"/>
<polygon fill="black" stroke="black" points="288.5,-610.56 285,-600.56 281.5,-610.56 288.5,-610.56"/>
<text text-anchor="middle" x="317.5" y="-629.8" font-family="Times,serif" font-size="14.00"> contains</text>
</g>
<!-- 5 -->
<g id="node5" class="node">
<title>5</title>
<polygon fill="#d6eaf8" stroke="black" points="1141.5,-600.5 604.5,-600.5 604.5,-404.5 1141.5,-404.5 1141.5,-600.5"/>
<polygon fill="#cfe7e9" stroke="transparent" points="605,-560.5 605,-600.5 1142,-600.5 1142,-560.5 605,-560.5"/>
<polygon fill="none" stroke="black" points="605,-560.5 605,-600.5 1142,-600.5 1142,-560.5 605,-560.5"/>
<text text-anchor="start" x="745" y="-584.3" font-family="monospace" font-size="14.00"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</text>
<text text-anchor="start" x="878" y="-584.3" font-family="monospace" font-weight="bold" font-size="14.00">Node 5 (Select)</text>
<text text-anchor="start" x="691.5" y="-570.3" font-family="monospace" font-size="14.00"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</text>
<polygon fill="none" stroke="black" points="605,-458.5 605,-560.5 667,-560.5 667,-458.5 605,-458.5"/>
<text text-anchor="start" x="611" y="-544.3" font-family="monospace" font-weight="bold" font-size="14.00">SELECT</text>
<polygon fill="none" stroke="black" points="667,-458.5 667,-560.5 1142,-560.5 1142,-458.5 667,-458.5"/>
<text text-anchor="start" x="673" y="-543.3" font-family="monospace" font-size="14.00">Fk_GLUSR_USR_ID, item_simg,</text>
<text text-anchor="start" x="673" y="-528.3" font-family="monospace" font-size="14.00">REPLACE(COALESCE(PCI.PC_ITEM_IMG_LARGE,</text>
<text text-anchor="start" x="673" y="-513.3" font-family="monospace" font-size="14.00">PCI.PC_IMG_SMALL_600X600), &#39;add&#45;image.gif&#39;, &#39;coming&#45;</text>
<text text-anchor="start" x="673" y="-498.3" font-family="monospace" font-size="14.00">soon.gif&#39;) AS item_simg_LARGE, PC_ITEM_NAME, PC_ITEM_ID,</text>
<text text-anchor="start" x="673" y="-483.3" font-family="monospace" font-size="14.00">PC_CLNT_PCAT_NAME, PC_CLNT_FLNAME, FREE_SHOWROOM_URL,</text>
<text text-anchor="start" x="875.5" y="-468.3" font-family="monospace" font-size="14.00">CNTPCID</text>
<polygon fill="none" stroke="black" points="605,-431.5 605,-458.5 667,-458.5 667,-431.5 605,-431.5"/>
<text text-anchor="start" x="611" y="-442.3" font-family="monospace" font-weight="bold" font-size="14.00">FROM</text>
<polygon fill="none" stroke="black" points="667,-431.5 667,-458.5 1142,-458.5 1142,-431.5 667,-431.5"/>
<text text-anchor="start" x="673" y="-441.3" font-family="monospace" font-size="14.00">FROM pc_clnt_pcat_data</text>
<polygon fill="none" stroke="black" points="605,-404.5 605,-431.5 667,-431.5 667,-404.5 605,-404.5"/>
<text text-anchor="start" x="611" y="-415.3" font-family="monospace" font-weight="bold" font-size="14.00">WHERE</text>
<polygon fill="none" stroke="black" points="667,-404.5 667,-431.5 1142,-431.5 1142,-404.5 667,-404.5"/>
<text text-anchor="start" x="673" y="-414.3" font-family="monospace" font-size="14.00">WHERE PC_CLNT_TOPLEVEL = &#39;L&#39; AND OLD_CATALOG &lt;&gt; &#45;1</text>
</g>
<!-- 4&#45;&gt;5 -->
<g id="edge4" class="edge">
<title>4&#45;&gt;5</title>
<path fill="none" stroke="black" d="M873,-718.38C873,-683.85 873,-645.39 873,-610.67"/>
<polygon fill="black" stroke="black" points="876.5,-610.5 873,-600.5 869.5,-610.5 876.5,-610.5"/>
<text text-anchor="middle" x="905.5" y="-629.8" font-family="Times,serif" font-size="14.00"> contains</text>
</g>
<!-- 7 -->
<g id="node7" class="node">
<title>7</title>
<polygon fill="#d6eaf8" stroke="black" points="1737.5,-608 1184.5,-608 1184.5,-397 1737.5,-397 1737.5,-608"/>
<polygon fill="#cfe7e9" stroke="transparent" points="1185,-567.5 1185,-607.5 1738,-607.5 1738,-567.5 1185,-567.5"/>
<polygon fill="none" stroke="black" points="1185,-567.5 1185,-607.5 1738,-607.5 1738,-567.5 1185,-567.5"/>
<text text-anchor="start" x="1333" y="-591.3" font-family="monospace" font-size="14.00"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</text>
<text text-anchor="start" x="1466" y="-591.3" font-family="monospace" font-weight="bold" font-size="14.00">Node 7 (Select)</text>
<text text-anchor="start" x="1279.5" y="-577.3" font-family="monospace" font-size="14.00"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</text>
<polygon fill="none" stroke="black" points="1185,-465.5 1185,-567.5 1247,-567.5 1247,-465.5 1185,-465.5"/>
<text text-anchor="start" x="1191" y="-551.3" font-family="monospace" font-weight="bold" font-size="14.00">SELECT</text>
<polygon fill="none" stroke="black" points="1247,-465.5 1247,-567.5 1738,-567.5 1738,-465.5 1247,-465.5"/>
<text text-anchor="start" x="1253" y="-550.3" font-family="monospace" font-size="14.00">Fk_GLUSR_USR_ID, PC_CLNT_PCAT_ID, PC_ITEM_NAME, item_simg,</text>
<text text-anchor="start" x="1253" y="-535.3" font-family="monospace" font-size="14.00">CASE WHEN NOT item_simg_LARGE IS NULL AND</text>
<text text-anchor="start" x="1253" y="-520.3" font-family="monospace" font-size="14.00">STR_POSITION(item_simg_LARGE, &#39;coming&#45;soon.gif&#39;) &lt;= 0</text>
<text text-anchor="start" x="1253" y="-505.3" font-family="monospace" font-size="14.00">THEN item_simg_LARGE END AS ITEM_SIMG_LARGE, PC_ITEM_ID,</text>
<text text-anchor="start" x="1253" y="-490.3" font-family="monospace" font-size="14.00">photo_desc_pdt_cnt, name_only_pdt_cnt,</text>
<text text-anchor="start" x="1319" y="-475.3" font-family="monospace" font-size="14.00">DIR_SEARCH_CAT_PRODSERV, FREE_SHOWROOM_URL</text>
<polygon fill="none" stroke="black" points="1185,-438.5 1185,-465.5 1247,-465.5 1247,-438.5 1185,-438.5"/>
<text text-anchor="start" x="1191" y="-449.3" font-family="monospace" font-weight="bold" font-size="14.00">FROM</text>
<polygon fill="none" stroke="black" points="1247,-438.5 1247,-465.5 1738,-465.5 1738,-438.5 1247,-438.5"/>
<text text-anchor="start" x="1253" y="-449.3" font-family="monospace" font-size="14.00">FROM (</text>
<text text-anchor="start" x="1303" y="-449.3" font-family="monospace" font-weight="bold" font-size="14.00" fill="red">subquery_8</text>
<text text-anchor="start" x="1386" y="-449.3" font-family="monospace" font-size="14.00">) AS X</text>
<polygon fill="none" stroke="black" points="1185,-396.5 1185,-438.5 1247,-438.5 1247,-396.5 1185,-396.5"/>
<text text-anchor="start" x="1191" y="-422.3" font-family="monospace" font-weight="bold" font-size="14.00">WHERE</text>
<polygon fill="none" stroke="black" points="1247,-396.5 1247,-438.5 1738,-438.5 1738,-396.5 1247,-396.5"/>
<text text-anchor="start" x="1253" y="-421.3" font-family="monospace" font-size="14.00">WHERE MYRANK1 = 1 AND STR_POSITION(item_simg, &#39;coming&#45;</text>
<text text-anchor="start" x="1414" y="-406.3" font-family="monospace" font-size="14.00">soon.gif&#39;) &lt;= 0</text>
</g>
<!-- 6&#45;&gt;7 -->
<g id="edge6" class="edge">
<title>6&#45;&gt;7</title>
<path fill="none" stroke="black" d="M1461,-671.67C1461,-653.74 1461,-635.66 1461,-618.36"/>
<polygon fill="black" stroke="black" points="1464.5,-618.26 1461,-608.26 1457.5,-618.26 1464.5,-618.26"/>
<text text-anchor="middle" x="1493.5" y="-629.8" font-family="Times,serif" font-size="14.00"> contains</text>
</g>
<!-- 8 -->
<g id="node8" class="node">
<title>8</title>
<polygon fill="#d6eaf8" stroke="black" points="1746,-346 1176,-346 1176,0 1746,0 1746,-346"/>
<polygon fill="#cfe7e9" stroke="transparent" points="1176,-306 1176,-346 1746,-346 1746,-306 1176,-306"/>
<polygon fill="none" stroke="black" points="1176,-306 1176,-346 1746,-346 1746,-306 1176,-306"/>
<text text-anchor="start" x="1332.5" y="-329.8" font-family="monospace" font-size="14.00"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</text>
<text text-anchor="start" x="1465.5" y="-329.8" font-family="monospace" font-weight="bold" font-size="14.00">Node 8 (Select)</text>
<text text-anchor="start" x="1279" y="-315.8" font-family="monospace" font-size="14.00"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</text>
<polygon fill="none" stroke="black" points="1176,-54 1176,-306 1238,-306 1238,-54 1176,-54"/>
<text text-anchor="start" x="1182" y="-289.8" font-family="monospace" font-weight="bold" font-size="14.00">SELECT</text>
<polygon fill="none" stroke="black" points="1238,-54 1238,-306 1746,-306 1746,-54 1238,-54"/>
<text text-anchor="start" x="1244" y="-288.8" font-family="monospace" font-size="14.00">Fk_GLUSR_USR_ID, PC_CLNT_PCAT_ID, PC_ITEM_NAME,</text>
<text text-anchor="start" x="1244" y="-273.8" font-family="monospace" font-size="14.00">REPLACE(PC_ITEM_IMG_SMALL, &#39;add&#45;image.gif&#39;, &#39;coming&#45;</text>
<text text-anchor="start" x="1244" y="-258.8" font-family="monospace" font-size="14.00">soon.gif&#39;) AS item_simg, REPLACE(COALESCE(PC_ITEM_IMG_LARGE,</text>
<text text-anchor="start" x="1244" y="-243.8" font-family="monospace" font-size="14.00">PC_IMG_SMALL_600X600), &#39;add&#45;image.gif&#39;, &#39;coming&#45;soon.gif&#39;)</text>
<text text-anchor="start" x="1244" y="-228.8" font-family="monospace" font-size="14.00">AS item_simg_LARGE, PC_ITEM_ID, ROW_NUMBER() OVER (PARTITION</text>
<text text-anchor="start" x="1244" y="-213.8" font-family="monospace" font-size="14.00">BY Fk_GLUSR_USR_ID, PC_ITEM_ID ORDER BY PC_ITEM_ID) AS</text>
<text text-anchor="start" x="1244" y="-198.8" font-family="monospace" font-size="14.00">MYRANK1, COUNT(CASE WHEN PC_ITEM_IMG_SMALL_ISDEFAULT = 1 OR</text>
<text text-anchor="start" x="1244" y="-183.8" font-family="monospace" font-size="14.00">(NOT PC_ITEM_DESC_SMALL IS NULL AND</text>
<text text-anchor="start" x="1244" y="-168.8" font-family="monospace" font-size="14.00">LOWER(PC_ITEM_DESC_SMALL) &lt;&gt; LOWER(PC_ITEM_NAME)) THEN</text>
<text text-anchor="start" x="1244" y="-153.8" font-family="monospace" font-size="14.00">1 END) OVER (PARTITION BY Fk_GLUSR_USR_ID, PC_CLNT_PCAT_ID)</text>
<text text-anchor="start" x="1244" y="-138.8" font-family="monospace" font-size="14.00">AS photo_desc_pdt_cnt, COUNT(CASE WHEN (PC_ITEM_IMG_SMALL IS</text>
<text text-anchor="start" x="1244" y="-123.8" font-family="monospace" font-size="14.00">NULL OR PC_ITEM_IMG_SMALL_ISDEFAULT = 0) AND</text>
<text text-anchor="start" x="1244" y="-108.8" font-family="monospace" font-size="14.00">(PC_ITEM_DESC_SMALL IS NULL OR LOWER(PC_ITEM_DESC_SMALL) =</text>
<text text-anchor="start" x="1244" y="-93.8" font-family="monospace" font-size="14.00">LOWER(PC_ITEM_NAME)) THEN 1 END) OVER (PARTITION BY</text>
<text text-anchor="start" x="1244" y="-78.8" font-family="monospace" font-size="14.00">Fk_GLUSR_USR_ID, PC_CLNT_PCAT_ID) AS name_only_pdt_cnt,</text>
<text text-anchor="start" x="1281.5" y="-63.8" font-family="monospace" font-size="14.00">DIR_SEARCH_CAT_PRODSERV, FREE_SHOWROOM_URL, CNTPCID</text>
<polygon fill="none" stroke="black" points="1176,-27 1176,-54 1238,-54 1238,-27 1176,-27"/>
<text text-anchor="start" x="1182" y="-37.8" font-family="monospace" font-weight="bold" font-size="14.00">FROM</text>
<polygon fill="none" stroke="black" points="1238,-27 1238,-54 1746,-54 1746,-27 1238,-27"/>
<text text-anchor="start" x="1244" y="-36.8" font-family="monospace" font-size="14.00">FROM pc_clnt_pcat_data</text>
<polygon fill="none" stroke="black" points="1176,0 1176,-27 1238,-27 1238,0 1176,0"/>
<text text-anchor="start" x="1182" y="-10.8" font-family="monospace" font-weight="bold" font-size="14.00">WHERE</text>
<polygon fill="none" stroke="black" points="1238,0 1238,-27 1746,-27 1746,0 1238,0"/>
<text text-anchor="start" x="1244" y="-9.8" font-family="monospace" font-size="14.00">WHERE PC_CLNT_PCAT_ID IS NULL</text>
</g>
<!-- 7&#45;&gt;8 -->
<g id="edge7" class="edge">
<title>7&#45;&gt;8</title>
<path fill="none" stroke="black" d="M1461,-396.98C1461,-383.87 1461,-370.18 1461,-356.31"/>
<polygon fill="black" stroke="black" points="1464.5,-356.19 1461,-346.19 1457.5,-356.19 1464.5,-356.19"/>
<text text-anchor="middle" x="1493.5" y="-367.8" font-family="Times,serif" font-size="14.00"> contains</text>
</g>
</g>
</svg>
